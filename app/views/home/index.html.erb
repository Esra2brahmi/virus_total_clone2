<!-- Top Search Bar -->
<div class="w-full p-4 flex justify-center bg-[#1e1d2e] shadow-md">
  <div class="relative w-1/2">
    <input type="text" placeholder="Quick Search..." class="w-full p-2 pl-10 rounded-md text-white bg-[#394568] focus:outline-none" />
    <svg class="absolute left-3 top-2.5 w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M17 11a6 6 0 11-12 0 6 6 0 0112 0z" />
    </svg>
  </div>
</div>

<!-- Header -->
<div class="text-center mt-8">
  <%= image_tag "logoipsum-381.png", alt: "Logo", class: "mx-auto w-20 h-20 mb-2" %>
  <h1 class="text-4xl font-bold text-[#87aaf8]">VIRUSTOTAL Clone</h1>
  <p class="text-gray-400 mt-2">Analyze files, URLs, domains, and IP addresses to detect malware and other breaches</p>
</div>

<!-- Tabs Section -->
<div class="max-w-4xl mx-auto mt-10">
  <div class="flex justify-around border-b border-gray-600">
    <button class="tab-button px-4 py-2 text-gray-400 hover:text-[#87aaf8]" data-tab="file">File Scan</button>
    <button class="tab-button px-4 py-2 text-gray-400 hover:text-[#87aaf8]" data-tab="url">URL Scan</button>
    <button class="tab-button px-4 py-2 text-[#87aaf8] border-b-2 border-[#87aaf8]" data-tab="search">General Search</button>
  </div>

  <div class="tab-content mt-6">
    <!-- File Tab -->
    <div class="tab-pane hidden" id="file-tab">
      <div class="text-center p-6 border border-gray-700 rounded-lg">
        <%= image_tag "file-up.svg", class: "w-16 h-16 mx-auto mb-4" %>
        <p class="mb-2">Upload a file to scan</p>
        <input type="file" class="w-3/4 p-2 rounded text-white bg-[#394568] focus:outline-none" />
      </div>
    </div>

    <!-- URL Tab -->
    <div class="tab-pane hidden" id="url-tab">
      <div class="text-center p-6 border border-gray-700 rounded-lg">
        <%= image_tag "search-code.svg", class: "w-16 h-16 mx-auto mb-4" %>
        <p class="mb-2">Enter a URL to scan</p>
        <%= form_with url: url_scan_path, method: :post, local: true do |f| %>
          <%= f.text_field :query, 
                placeholder: "https://example.com", 
                class: "w-3/4 p-2 rounded text-white bg-[#394568] focus:outline-none" %>
          <%= f.submit "Scan", 
                class: "mt-4 px-4 py-2 bg-[#87aaf8] text-black font-bold rounded hover:bg-blue-400 transition" %>
        <% end %>
      </div>
    </div>

    <!-- General Search Tab -->
    <div class="tab-pane" id="search-tab">
      <div class="text-center p-6 border border-gray-700 rounded-lg">
        <%= image_tag "globe.svg", class: "w-16 h-16 mx-auto mb-4" %>
        <p class="mb-2">Search a hash, domain, IP, URL...</p>
        <%= form_with url: ip_scan_path, method: :post, local: true do |f| %>
          <%= f.text_field :query, 
                placeholder: "e.g. 8.8.8.8", 
                class: "w-3/4 p-2 rounded text-white bg-[#394568] focus:outline-none" %>
          <%= f.submit "Search", 
                class: "mt-4 px-4 py-2 bg-[#87aaf8] text-black font-bold rounded hover:bg-blue-400 transition" %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const tabs = document.querySelectorAll('.tab-button');
  const panes = document.querySelectorAll('.tab-pane');

  // Function to activate a tab
  function activateTab(tab) {
    // Remove active classes from all tabs
    tabs.forEach(t => {
      t.classList.remove('text-[#87aaf8]', 'border-[#87aaf8]', 'border-b-2');
      t.classList.add('text-gray-400');
    });
    
    // Hide all panes
    panes.forEach(p => p.classList.add('hidden'));
    
    // Activate clicked tab
    tab.classList.add('text-[#87aaf8]', 'border-[#87aaf8]', 'border-b-2');
    tab.classList.remove('text-gray-400');
    
    // Show corresponding pane
    const tabName = tab.getAttribute('data-tab');
    document.getElementById(`${tabName}-tab`).classList.remove('hidden');
  }

  // Add click event to tabs
  tabs.forEach(tab => {
    tab.addEventListener('click', () => activateTab(tab));
  });

  // Initialize with General Search tab active
  activateTab(document.querySelector('[data-tab="search"]'));
});
</script>